\begin{isabellebody}
\isacommand{locale}\isamarkupfalse%
\ delta{\isacharunderscore}gcounter\ {\isacharequal}\ network{\isacharunderscore}with{\isacharunderscore}ops\ {\isacharunderscore}\ delta{\isacharunderscore}gcounter{\isacharunderscore}op\ {\isachardoublequoteopen}{\isasymlambda}\ x{\isachardot}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ delta{\isacharunderscore}gcounter{\isacharparenright}\ option{\isacharunderscore}max{\isacharunderscore}assoc{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}option{\isacharunderscore}max\ a\ {\isacharparenleft}option{\isacharunderscore}max\ b\ c{\isacharparenright}\ {\isacharequal}\ option{\isacharunderscore}max\ {\isacharparenleft}option{\isacharunderscore}max\ a\ b{\isacharparenright}\ c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}induction\ a{\isacharsemicolon}\ induction\ b{\isacharsemicolon}\ induction\ c{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto{\isacharparenright}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ delta{\isacharunderscore}gcounter{\isacharparenright}\ option{\isacharunderscore}max{\isacharunderscore}commut{\isacharcolon}\ {\isachardoublequoteopen}option{\isacharunderscore}max\ a\ b\ {\isacharequal}\ option{\isacharunderscore}max\ b\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}induction\ a{\isacharsemicolon}\ induction\ b{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto{\isacharparenright}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ delta{\isacharunderscore}gcounter{\isacharparenright}\ {\isacharbrackleft}simp{\isacharbrackright}\ {\isacharcolon}\ {\isachardoublequoteopen}delta{\isacharunderscore}gcounter{\isacharunderscore}op\ x\ {\isasymrhd}\ delta{\isacharunderscore}gcounter{\isacharunderscore}op\ y\ {\isacharequal}\ delta{\isacharunderscore}gcounter{\isacharunderscore}op\ y\ {\isasymrhd}\ delta{\isacharunderscore}gcounter{\isacharunderscore}op\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ kleisli{\isacharunderscore}def\ option{\isacharunderscore}max{\isacharunderscore}assoc{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ option{\isacharunderscore}max{\isacharunderscore}commut{\isacharparenright}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ delta{\isacharunderscore}gcounter{\isacharparenright}\ concurrent{\isacharunderscore}operations{\isacharunderscore}commute{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}xs\ prefix\ of\ i{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}hb{\isachardot}concurrent{\isacharunderscore}ops{\isacharunderscore}commute\ {\isacharparenleft}node{\isacharunderscore}deliver{\isacharunderscore}messages\ xs{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}clarsimp\ simp{\isacharcolon}\ hb{\isachardot}concurrent{\isacharunderscore}ops{\isacharunderscore}commute{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}unfold\ interp{\isacharunderscore}msg{\isacharunderscore}def{\isacharcomma}\ simp{\isacharparenright}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ delta{\isacharunderscore}gcounter{\isacharparenright}\ counter{\isacharunderscore}convergence{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ {\isacharparenleft}node{\isacharunderscore}deliver{\isacharunderscore}messages\ xs{\isacharparenright}\ {\isacharequal}\ set\ {\isacharparenleft}node{\isacharunderscore}deliver{\isacharunderscore}messages\ ys{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}xs\ prefix\ of\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}ys\ prefix\ of\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{shows}\ {\isachardoublequoteopen}apply{\isacharunderscore}operations\ xs\ {\isacharequal}\ apply{\isacharunderscore}operations\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}auto\ simp\ add{\isacharcolon}\ apply{\isacharunderscore}operations{\isacharunderscore}def\ intro{\isacharcolon}\ hb{\isachardot}convergence{\isacharunderscore}ext\ concurrent{\isacharunderscore}operations{\isacharunderscore}commute\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ node{\isacharunderscore}deliver{\isacharunderscore}messages{\isacharunderscore}distinct\ hb{\isacharunderscore}consistent{\isacharunderscore}prefix{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{context}\isamarkupfalse%
\ delta{\isacharunderscore}gcounter\ \isakeyword{begin}\isanewline
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ sec{\isacharcolon}\ strong{\isacharunderscore}eventual{\isacharunderscore}consistency\ weak{\isacharunderscore}hb\ hb\ interp{\isacharunderscore}msg\isanewline
\ \ {\isachardoublequoteopen}{\isasymlambda}ops{\isachardot}\ {\isasymexists}xs\ i{\isachardot}\ xs\ prefix\ of\ i\ {\isasymand}\ node{\isacharunderscore}deliver{\isacharunderscore}messages\ xs\ {\isacharequal}\ ops{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlambda}\ x{\isachardot}\ None{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}standard{\isacharsemicolon}\ clarsimp{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}auto\ simp\ add{\isacharcolon}\ hb{\isacharunderscore}consistent{\isacharunderscore}prefix\ drop{\isacharunderscore}last{\isacharunderscore}message\ node{\isacharunderscore}deliver{\isacharunderscore}messages{\isacharunderscore}distinct\ concurrent{\isacharunderscore}operations{\isacharunderscore}commute{\isacharparenright}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}metis\ {\isacharparenleft}full{\isacharunderscore}types{\isacharparenright}\ interp{\isacharunderscore}msg{\isacharunderscore}def\ delta{\isacharunderscore}gcounter{\isacharunderscore}op{\isachardot}elims{\isacharparenright}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ drop{\isacharunderscore}last{\isacharunderscore}message\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isacommand{end}\isamarkupfalse%
\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
